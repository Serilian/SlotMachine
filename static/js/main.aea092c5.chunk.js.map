{"version":3,"sources":["Slot/Slot.js","SlotsDisplay/SlotsDisplay.js","ScoreDisplay/ScoreDisplay.js","gameConfig.js","SlotMachine.js","index.js"],"names":["memo","_ref","symbol","react_default","a","createElement","className","SlotsDisplay","rolling","slots","map","slot","src_Slot_Slot","key","uuid","score","Fragment","DEFAULT_GAME_END_TIME_MILIS","DEFAULT_SLOT_ROTATION_MILIS","AWARD_FOR_ALL_MATCHING","AWARD_FOR_TWO_CONSECUTIVE","AWARD_FOR_TWO_MATCHING","SlotMachine","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","rollSymbols","setInterval","state","newSlot1","symbols","Math","floor","random","length","newSlot2","newSlot3","setState","slot1","slot2","slot3","award","finishGameAutomaticallyAfterTimeout","finishTimeout","setTimeout","handleStop","startGame","clearTimeout","startTimeout","calculateAwardIfAny","_this$state","_this2","_this$state2","src_SlotsDisplay_SlotsDisplay","onClick","disabled","src_ScoreDisplay_ScoreDisplay","Component","defaultProps","ReactDOM","render","src_SlotMachine_0","document","getElementById"],"mappings":"wRAceA,8BAVF,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,OACX,OAAOC,EAAAC,EAAAC,cAAA,OAAKC,UAAW,UAAWJ,8BCiBvBK,EAfM,SAAAN,GAAsB,IAApBO,EAAoBP,EAApBO,QAASC,EAAWR,EAAXQ,MAC9B,OACEN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACZG,EAAMC,IAAI,SAAAC,GAAI,OACbR,EAAAC,EAAAC,cAACO,EAAD,CAAMC,IAAKC,MAAQZ,OAAQS,EAAMH,QAASA,QCSnCR,wBAhBM,SAAAC,GAAa,IAAXc,EAAWd,EAAXc,MACrB,OACEZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACH,IAATS,EACCZ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAY,SAAA,KACEb,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,kBAAsCS,IAClC,SCVDE,EAA8B,IAC9BC,EAA8B,GAE9BC,EAAyB,IACzBC,EAA4B,GAC5BC,EAAyB,GCOhCC,cAKJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAyBRQ,YAAc,WACZC,YAAY,WACV,GAAIR,EAAKS,MAAMzB,QAAS,CACtB,IAAM0B,EAAWV,EAAKD,MAAMY,QAC1BC,KAAKC,MAAMD,KAAKE,SAAWd,EAAKD,MAAMY,QAAQI,SAE1CC,EAAWhB,EAAKD,MAAMY,QAC1BC,KAAKC,MAAMD,KAAKE,SAAWd,EAAKD,MAAMY,QAAQI,SAE1CE,EAAWjB,EAAKD,MAAMY,QAC1BC,KAAKC,MAAMD,KAAKE,SAAWd,EAAKD,MAAMY,QAAQI,SAEhDf,EAAKkB,SAAS,CACZC,MAAOT,EACPU,MAAOJ,EACPK,MAAOJ,EACPjC,SAAS,EACTsC,MAAO,MAGV5B,IA9CcM,EAiDnBuB,oCAAsC,WACpCvB,EAAKwB,cAAgBC,WAAWzB,EAAK0B,WAAYjC,IAlDhCO,EAqDnB2B,UAAY,WACVC,aAAa5B,EAAK6B,cAClB7B,EAAKkB,SAAS,CAAElC,SAAS,IACzBgB,EAAKuB,sCACLvB,EAAKO,eAzDYP,EA4DnB0B,WAAa,WACXE,aAAa5B,EAAKwB,eAClBxB,EAAKkB,SAAS,CAAElC,SAAS,IACzBgB,EAAK8B,uBA/DY9B,EAkEnB8B,oBAAsB,WAAM,IAAAC,EACM/B,EAAKS,MAA7BU,EADkBY,EAClBZ,MAAOC,EADWW,EACXX,MAAOC,EADIU,EACJV,MAClBF,IAAUC,GAASA,IAAUC,EAC/BrB,EAAKkB,SAAS,CAAEI,MAAO3B,IACbwB,IAAUC,GAAWA,IAAUC,EACvCrB,EAAKkB,SAAS,CAACI,MAAO1B,IAChBuB,IAAUE,GAChBrB,EAAKkB,SAAS,CAACI,MAAOzB,KAvE1BG,EAAKS,MAAQ,CACXU,MAAOnB,EAAKD,MAAMY,QAChBC,KAAKC,MAAMD,KAAKE,SAAWd,EAAKD,MAAMY,QAAQI,SAEhDK,MAAOpB,EAAKD,MAAMY,QAChBC,KAAKC,MAAMD,KAAKE,SAAWd,EAAKD,MAAMY,QAAQI,SAEhDM,MAAOrB,EAAKD,MAAMY,QAChBC,KAAKC,MAAMD,KAAKE,SAAWd,EAAKD,MAAMY,QAAQI,SAEhD/B,SAAS,EACTsC,MAAO,GAETtB,EAAK6B,aAAe,KACpB7B,EAAKwB,cAAgB,KAhBJxB,mFAoBC,IAAAgC,EAAA7B,KAClBA,KAAK0B,aAAeJ,WAAW,WAC7BO,EAAKL,aDxCkC,sCC+FlC,IAAAM,EACyC9B,KAAKM,MAA7CU,EADDc,EACCd,MAAOC,EADRa,EACQb,MAAOC,EADfY,EACeZ,MAAOrC,EADtBiD,EACsBjD,QAASsC,EAD/BW,EAC+BX,MAChCrC,EAAQ,CAACkC,EAAOC,EAAOC,GAE7B,OACE1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAACqD,EAAD,CAAcjD,MAAOA,EAAOD,QAASA,IACrCL,EAAAC,EAAAC,cAAA,UAAQC,UAAU,YAAYqD,QAAShC,KAAKwB,UAAWS,SAAUpD,GAC9DA,EAAU,aAAe,eAE5BL,EAAAC,EAAAC,cAAA,UAAQC,UAAU,WAAWqD,QAAShC,KAAKuB,WAAYU,UAAWpD,GAAlE,QAGAL,EAAAC,EAAAC,cAACwD,EAAD,CAAc9C,MAAO+B,YA/FHgB,aAApBxC,EACGyC,aAAe,CACpB5B,QAAS,CAAC,eAAM,eAAM,eAAM,iBAmGjBb,QC7Gf0C,IAASC,OAAO9D,EAAAC,EAAAC,cAAC6D,EAAD,MAAiBC,SAASC,eAAe","file":"static/js/main.aea092c5.chunk.js","sourcesContent":["import React, { memo } from \"react\";\nimport \"./Slot.scss\";\nimport PropTypes from 'prop-types'\n\nconst Slot = ({symbol})=> {\n    return <div className={\"symbol\"}>{symbol}</div>;\n};\n\nSlot.propTypes = {\n    symbol: PropTypes.string.isRequired,\n};\n\n\n\nexport default memo(Slot);\n\n\n","import React from \"react\";\r\nimport Slot from \"../Slot/Slot\";\r\nimport './SlotsDisplay.scss';\r\nimport uuid from 'uuid/v4';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst SlotsDisplay = ({rolling, slots}) => {\r\n  return (\r\n    <div className=\"slot-container\">\r\n      {slots.map(slot => (\r\n        <Slot key={uuid()} symbol={slot} rolling={rolling} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nSlotsDisplay.propTypes = {\r\n  rolling: PropTypes.bool.isRequired,\r\n  slots: PropTypes.array.isRequired\r\n};\r\n\r\nexport default SlotsDisplay;\r\n\r\n","import React, {memo} from \"react\";\r\nimport \"./ScoreDisplay.scss\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ScoreDisplay = ({score}) => {\r\n  return (\r\n    <div className=\"score-display\">\r\n      {score !==0 ?\r\n        <>\r\n          <h1>Congratulations!</h1>\r\n          <h2 className=\"score\">Your award is: {score}</h2>\r\n        </> : null}\r\n      </div>\r\n  );\r\n};\r\n\r\nScoreDisplay.propTypes = {\r\n  score: PropTypes.number.isRequired\r\n};\r\n\r\nexport default memo(ScoreDisplay);","export const DEFAULT_GAME_START_TIME_MILIS = 5000;\r\nexport const DEFAULT_GAME_END_TIME_MILIS = 10000;\r\nexport const DEFAULT_SLOT_ROTATION_MILIS = 50;\r\n\r\nexport const AWARD_FOR_ALL_MATCHING = 100;\r\nexport const AWARD_FOR_TWO_CONSECUTIVE = 20;\r\nexport const AWARD_FOR_TWO_MATCHING = 10;","import React, { Component } from \"react\";\nimport \"./SlotMachine.scss\";\nimport SlotsDisplay from \"./SlotsDisplay/SlotsDisplay\";\nimport ScoreDisplay from \"./ScoreDisplay/ScoreDisplay\";\nimport {\n  DEFAULT_GAME_END_TIME_MILIS,\n  AWARD_FOR_ALL_MATCHING,\n  AWARD_FOR_TWO_CONSECUTIVE,\n  AWARD_FOR_TWO_MATCHING,\n  DEFAULT_GAME_START_TIME_MILIS,\n  DEFAULT_SLOT_ROTATION_MILIS\n} from './gameConfig';\n\nclass SlotMachine extends Component {\n  static defaultProps = {\n    symbols: [\"ðŸ“\", \"ðŸŒ\", \"ðŸŠ\", \"ðŸµ\"]\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      slot1: this.props.symbols[\n        Math.floor(Math.random() * this.props.symbols.length)\n        ],\n      slot2: this.props.symbols[\n        Math.floor(Math.random() * this.props.symbols.length)\n        ],\n      slot3: this.props.symbols[\n        Math.floor(Math.random() * this.props.symbols.length)\n        ],\n      rolling: false,\n      award: 0\n    };\n    this.startTimeout = null;\n    this.finishTimeout = null;\n\n  }\n\n  componentDidMount() {\n    this.startTimeout = setTimeout(() => {\n      this.startGame();\n    }, DEFAULT_GAME_START_TIME_MILIS);\n  }\n\n  rollSymbols = () => {\n    setInterval(() => {\n      if (this.state.rolling) {\n        const newSlot1 = this.props.symbols[\n          Math.floor(Math.random() * this.props.symbols.length)\n        ];\n        const newSlot2 = this.props.symbols[\n          Math.floor(Math.random() * this.props.symbols.length)\n        ];\n        const newSlot3 = this.props.symbols[\n          Math.floor(Math.random() * this.props.symbols.length)\n        ];\n        this.setState({\n          slot1: newSlot1,\n          slot2: newSlot2,\n          slot3: newSlot3,\n          rolling: true,\n          award: 0\n        });\n      }\n    }, DEFAULT_SLOT_ROTATION_MILIS);\n  };\n\n  finishGameAutomaticallyAfterTimeout = () => {\n    this.finishTimeout = setTimeout(this.handleStop, DEFAULT_GAME_END_TIME_MILIS);\n  };\n\n  startGame = () => {\n    clearTimeout(this.startTimeout);\n    this.setState({ rolling: true });\n    this.finishGameAutomaticallyAfterTimeout();\n    this.rollSymbols();\n  };\n\n  handleStop = () => {\n    clearTimeout(this.finishTimeout);\n    this.setState({ rolling: false });\n    this.calculateAwardIfAny();\n  };\n\n  calculateAwardIfAny = () => {\n    const { slot1, slot2, slot3 } = this.state;\n    if (slot1 === slot2 && slot2 === slot3) {\n      this.setState({ award: AWARD_FOR_ALL_MATCHING });\n    } else if ((slot1 === slot2) || (slot2 === slot3)) {\n        this.setState({award: AWARD_FOR_TWO_CONSECUTIVE})\n    } else if(slot1 === slot3) {\n        this.setState({award: AWARD_FOR_TWO_MATCHING})\n    }\n  };\n\n  render() {\n    const { slot1, slot2, slot3, rolling, award } = this.state;\n    const slots = [slot1, slot2, slot3];\n\n    return (\n      <div className=\"slot\">\n        <SlotsDisplay slots={slots} rolling={rolling} />\n        <button className=\"btn-start\" onClick={this.startGame} disabled={rolling}>\n          {rolling ? \"Rolling...\" : \"START GAME!\"}\n        </button>\n        <button className=\"btn-stop\" onClick={this.handleStop} disabled={!rolling}>\n          STOP\n        </button>\n        <ScoreDisplay score={award} />\n      </div>\n    );\n  }\n}\n\nexport default SlotMachine;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport SlotMachine from \"./SlotMachine\";\n\nReactDOM.render(<SlotMachine />, document.getElementById(\"root\"));\n"],"sourceRoot":""}